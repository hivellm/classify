{
  "$schema": "https://hivellm.org/schemas/classify-template-v1.json",
  "version": "1.0",
  
  "metadata": {
    "name": "strategic",
    "display_name": "Strategic Documents",
    "description": "Classification template for strategic planning documents including business plans, roadmaps, OKRs, and strategic initiatives",
    "domains": ["strategic", "planning", "business", "management"],
    "priority": 85,
    
    "indicators": [
      "strategy", "strategic", "planning", "roadmap",
      "objective", "okr", "kpi", "goal", "initiative",
      "vision", "mission", "business plan", "swot",
      "competitive analysis", "market analysis"
    ],
    
    "document_types": [
      "business_plan", "strategic_plan", "roadmap",
      "okr", "kpi_report", "swot_analysis",
      "competitive_analysis", "market_analysis", "initiative"
    ],
    
    "example_titles": [
      "2025 Strategic Plan",
      "Product Roadmap Q1-Q4",
      "OKRs Q4 2024",
      "Competitive Analysis - Market Leaders",
      "Business Plan 2025-2027",
      "SWOT Analysis"
    ],
    
    "use_cases": [
      "Strategic planning and tracking",
      "OKR and KPI management",
      "Competitive intelligence",
      "Business planning and forecasting",
      "Initiative tracking and reporting"
    ]
  },
  
  "llm_config": {
    "provider": "deepseek",
    "model": "deepseek-chat",
    "temperature": 0.15,
    "max_tokens": 2000,
    "system_prompt": "You are an expert strategic planning analyst. Extract objectives, key results, KPIs, strategic initiatives, timelines, owners, and dependencies. Identify goals, targets, metrics, and success criteria. Preserve exact numerical targets and dates.",
    "fallback_models": ["gpt-4o-mini", "claude-3-5-haiku-latest", "gemini-2.0-flash"]
  },
  
  "document_types": [
    {
      "type": "business_plan",
      "display_name": "Business Plan",
      "description": "Comprehensive business plan",
      "indicators": ["business plan", "executive summary", "market opportunity"],
      "required_entities": ["objective", "timeline", "financial_projection"],
      "optional_entities": ["owner", "metric", "dependency"],
      "priority": 100
    },
    {
      "type": "okr",
      "display_name": "OKR Document",
      "description": "Objectives and Key Results",
      "indicators": ["okr", "objective", "key result", "measure"],
      "required_entities": ["objective", "key_result", "owner"],
      "optional_entities": ["metric", "target", "deadline"],
      "priority": 95
    },
    {
      "type": "roadmap",
      "display_name": "Roadmap",
      "description": "Product or strategic roadmap",
      "indicators": ["roadmap", "milestone", "timeline", "delivery"],
      "required_entities": ["initiative", "timeline"],
      "optional_entities": ["dependency", "resource"],
      "priority": 90
    }
  ],
  
  "entity_definitions": [
    {
      "type": "Objective",
      "description": "Strategic objective or goal",
      "properties": {
        "name": { "type": "string", "required": true },
        "description": { "type": "string", "required": true },
        "owner": { "type": "string", "required": false },
        "deadline": { "type": "date", "required": false },
        "status": { 
          "type": "enum", 
          "values": ["not_started", "in_progress", "at_risk", "completed", "cancelled"],
          "required": false
        }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "KeyResult",
      "description": "Key result or measurable outcome",
      "properties": {
        "description": { "type": "string", "required": true },
        "metric": { "type": "string", "required": true },
        "target": { "type": "number", "required": true },
        "current": { "type": "number", "required": false },
        "unit": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm", "pattern"]
    },
    {
      "type": "Initiative",
      "description": "Strategic initiative or project",
      "properties": {
        "name": { "type": "string", "required": true },
        "description": { "type": "string", "required": false },
        "owner": { "type": "string", "required": false },
        "start_date": { "type": "date", "required": false },
        "end_date": { "type": "date", "required": false },
        "status": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "KPI",
      "description": "Key Performance Indicator",
      "properties": {
        "name": { "type": "string", "required": true },
        "current_value": { "type": "number", "required": false },
        "target_value": { "type": "number", "required": false },
        "unit": { "type": "string", "required": false },
        "frequency": { "type": "enum", "values": ["daily", "weekly", "monthly", "quarterly", "yearly"] }
      },
      "extraction_methods": ["llm", "pattern"]
    }
  ],
  
  "relationship_definitions": [
    {
      "type": "HAS_KEY_RESULT",
      "description": "Objective has key result",
      "source": "Objective",
      "target": ["KeyResult"],
      "properties": {
        "weight": { "type": "number", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "SUPPORTS",
      "description": "Initiative supports objective",
      "source": "Initiative",
      "target": ["Objective"],
      "properties": {
        "impact": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "OWNED_BY",
      "description": "Owned by person or team",
      "source": ["Objective", "Initiative"],
      "target": ["Entity"],
      "properties": {
        "role": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "DEPENDS_ON",
      "description": "Initiative depends on another",
      "source": "Initiative",
      "target": ["Initiative"],
      "properties": {
        "dependency_type": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    }
  ],
  
  "graph_schema": {
    "nodes": [
      {
        "type": "StrategicDocument",
        "labels": ["Document", "StrategicDocument"],
        "required_properties": ["id", "title", "doc_type", "period"],
        "optional_properties": ["owner", "status", "created_at"],
        "indexes": [
          { "property": "id", "type": "unique" },
          { "property": "period", "type": "index" }
        ]
      },
      {
        "type": "Objective",
        "labels": ["Objective"],
        "required_properties": ["name", "description"],
        "optional_properties": ["owner", "deadline", "status"],
        "indexes": [{ "property": "name", "type": "fulltext" }]
      },
      {
        "type": "Initiative",
        "labels": ["Initiative"],
        "required_properties": ["name"],
        "optional_properties": ["owner", "start_date", "end_date", "status"],
        "indexes": [{ "property": "name", "type": "index" }]
      }
    ],
    
    "relationships": [
      {
        "type": "HAS_KEY_RESULT",
        "source": "Objective",
        "target": "KeyResult",
        "properties": ["weight"],
        "required": []
      },
      {
        "type": "SUPPORTS",
        "source": "Initiative",
        "target": "Objective",
        "properties": ["impact"],
        "required": []
      }
    ]
  },
  
  "fulltext_schema": {
    "required_fields": ["title", "domain", "doc_type", "period"],
    
    "extracted_fields": [
      {
        "name": "objectives",
        "type": "array",
        "description": "Strategic objectives",
        "extraction_method": "llm",
        "index": true
      },
      {
        "name": "kpis",
        "type": "array",
        "description": "Key performance indicators",
        "extraction_method": "llm",
        "index": true
      },
      {
        "name": "period",
        "type": "string",
        "description": "Planning period (e.g., Q1 2025, 2025)",
        "extraction_method": "pattern",
        "patterns": ["Q[1-4]\\s*\\d{4}", "\\d{4}"],
        "index": true
      },
      {
        "name": "owners",
        "type": "array",
        "description": "Objective/initiative owners",
        "extraction_method": "ner",
        "index": true
      }
    ],
    
    "keyword_extraction": {
      "enabled": true,
      "method": "tfidf",
      "min_frequency": 2,
      "max_keywords": 25,
      "exclude_stopwords": true,
      "preserve_entities": true
    },
    
    "categories": ["strategic", "planning", "okr", "business"],
    
    "summary": {
      "enabled": true,
      "method": "llm",
      "max_length": 500
    }
  },
  
  "extraction_rules": [
    {
      "name": "extract_objectives",
      "description": "Extract strategic objectives",
      "method": "llm",
      "prompt": "Extract all strategic objectives, goals, and targets with their owners and deadlines."
    },
    {
      "name": "extract_kpis",
      "description": "Extract KPIs and metrics",
      "method": "pattern",
      "patterns": [
        {
          "pattern": "([A-Za-z\\s]+):\\s*([0-9.]+)%?\\s*(?:â†’|to|target)\\s*([0-9.]+)%?",
          "type": "kpi_with_target"
        }
      ]
    },
    {
      "name": "extract_period",
      "description": "Extract planning period",
      "method": "pattern",
      "patterns": ["Q[1-4]\\s*\\d{4}", "FY\\s*\\d{4}", "\\d{4}"],
      "flags": "i"
    }
  ],
  
  "validation_rules": [
    {
      "field": "objectives",
      "rules": [
        { "type": "min_length", "value": 1, "message": "At least one objective required" }
      ]
    },
    {
      "field": "period",
      "rules": [
        { "type": "required", "message": "Planning period required" }
      ]
    }
  ]
}

