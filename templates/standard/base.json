{
  "$schema": "https://hivellm.org/schemas/classify-template-v1.json",
  "version": "1.0",
  
  "metadata": {
    "name": "base",
    "display_name": "Generic Documents",
    "description": "Generic fallback classification template for documents that don't match specific domain templates",
    "domains": ["general", "generic"],
    "priority": 10,
    
    "indicators": [
      "document", "text", "content", "information",
      "data", "file", "report", "article"
    ],
    
    "document_types": [
      "document", "text", "article", "report",
      "note", "memo", "letter", "generic"
    ],
    
    "example_titles": [
      "General Document",
      "Text File",
      "Article",
      "Notes",
      "Memo"
    ],
    
    "use_cases": [
      "General purpose document classification",
      "Fallback for unrecognized document types",
      "Generic text analysis",
      "Basic entity extraction"
    ]
  },
  
  "llm_config": {
    "provider": "deepseek",
    "model": "deepseek-chat",
    "temperature": 0.2,
    "max_tokens": 1500,
    "system_prompt": "You are a general document classifier. Extract basic information including document type, key entities (people, organizations, locations), dates, and main topics. Identify the document's purpose and key information. Be thorough but concise.",
    "fallback_models": [
      "gpt-4o-mini",
      "llama-3.1-8b-instant",
      "gemini-2.0-flash"
    ]
  },
  
  "document_types": [
    {
      "type": "document",
      "display_name": "Generic Document",
      "description": "General purpose document",
      "indicators": ["document", "file"],
      "required_entities": [],
      "optional_entities": ["person", "organization", "date", "location"],
      "priority": 50
    },
    {
      "type": "article",
      "display_name": "Article",
      "description": "Article or blog post",
      "indicators": ["article", "post", "author"],
      "required_entities": ["title"],
      "optional_entities": ["author", "date", "topics"],
      "priority": 60
    },
    {
      "type": "report",
      "display_name": "Report",
      "description": "Report or summary",
      "indicators": ["report", "summary", "analysis"],
      "required_entities": ["title"],
      "optional_entities": ["date", "author"],
      "priority": 55
    }
  ],
  
  "entity_definitions": [
    {
      "type": "Document",
      "description": "Generic document entity",
      "properties": {
        "title": { "type": "string", "required": true },
        "type": { "type": "string", "required": false },
        "date": { "type": "date", "required": false },
        "author": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "Entity",
      "description": "Generic named entity",
      "properties": {
        "name": { "type": "string", "required": true },
        "entity_type": {
          "type": "enum",
          "values": ["person", "organization", "location", "other"],
          "required": true
        }
      },
      "extraction_methods": ["ner", "llm"]
    },
    {
      "type": "Date",
      "description": "Date mentioned in document",
      "properties": {
        "date": { "type": "date", "required": true },
        "date_type": {
          "type": "enum",
          "values": ["created", "modified", "mentioned", "event"],
          "required": false
        }
      },
      "extraction_methods": ["pattern", "llm"],
      "patterns": [
        "\\d{4}-\\d{2}-\\d{2}",
        "\\d{2}/\\d{2}/\\d{4}",
        "(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s+\\d{1,2},\\s+\\d{4}"
      ]
    },
    {
      "type": "Topic",
      "description": "Main topic or theme",
      "properties": {
        "name": { "type": "string", "required": true },
        "relevance": { "type": "number", "required": false }
      },
      "extraction_methods": ["llm"]
    }
  ],
  
  "relationship_definitions": [
    {
      "type": "MENTIONS",
      "description": "Document mentions entity",
      "source": "Document",
      "target": ["Entity"],
      "properties": {
        "frequency": { "type": "number", "required": false },
        "context": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "HAS_TOPIC",
      "description": "Document has topic",
      "source": "Document",
      "target": ["Topic"],
      "properties": {
        "relevance": { "type": "number", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "CREATED_BY",
      "description": "Document created by entity",
      "source": "Document",
      "target": ["Entity"],
      "properties": {
        "date": { "type": "date", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "RELATED_TO",
      "description": "Document related to another document",
      "source": "Document",
      "target": ["Document"],
      "properties": {
        "relationship_type": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    }
  ],
  
  "graph_schema": {
    "nodes": [
      {
        "type": "Document",
        "labels": ["Document"],
        "description": "Generic document node",
        "required_properties": ["id", "title", "domain"],
        "optional_properties": ["type", "created_at", "author", "description"],
        "indexes": [
          { "property": "id", "type": "unique" },
          { "property": "title", "type": "fulltext" }
        ]
      },
      {
        "type": "Entity",
        "labels": ["Entity"],
        "description": "Generic entity (person, org, location)",
        "required_properties": ["name", "entity_type"],
        "optional_properties": ["description"],
        "indexes": [
          { "property": "name", "type": "fulltext" },
          { "property": "entity_type", "type": "index" }
        ]
      },
      {
        "type": "Topic",
        "labels": ["Topic"],
        "description": "Document topic or theme",
        "required_properties": ["name"],
        "optional_properties": ["relevance"],
        "indexes": [
          { "property": "name", "type": "index" }
        ]
      }
    ],
    
    "relationships": [
      {
        "type": "MENTIONS",
        "source": "Document",
        "target": "Entity",
        "properties": ["frequency", "context"],
        "required": []
      },
      {
        "type": "HAS_TOPIC",
        "source": "Document",
        "target": "Topic",
        "properties": ["relevance"],
        "required": []
      },
      {
        "type": "RELATED_TO",
        "source": "Document",
        "target": "Document",
        "properties": ["relationship_type"],
        "required": []
      }
    ]
  },
  
  "fulltext_schema": {
    "required_fields": ["title", "domain", "doc_type"],
    
    "extracted_fields": [
      {
        "name": "author",
        "type": "string",
        "description": "Document author",
        "extraction_method": "ner",
        "index": true
      },
      {
        "name": "date",
        "type": "date",
        "description": "Document date",
        "extraction_method": "pattern",
        "index": true
      },
      {
        "name": "entities",
        "type": "array",
        "description": "Named entities mentioned",
        "extraction_method": "ner",
        "index": true
      },
      {
        "name": "topics",
        "type": "array",
        "description": "Main topics",
        "extraction_method": "llm",
        "index": true
      },
      {
        "name": "language",
        "type": "string",
        "description": "Document language",
        "extraction_method": "llm",
        "index": true
      }
    ],
    
    "keyword_extraction": {
      "enabled": true,
      "method": "tfidf",
      "min_frequency": 2,
      "max_keywords": 20,
      "exclude_stopwords": true,
      "preserve_entities": true
    },
    
    "categories": [
      "general", "document", "text"
    ],
    
    "summary": {
      "enabled": true,
      "method": "llm",
      "max_length": 400
    }
  },
  
  "extraction_rules": [
    {
      "name": "extract_entities",
      "description": "Extract named entities (people, orgs, locations)",
      "method": "ner",
      "entity_types": ["PERSON", "ORG", "GPE", "LOC"],
      "confidence_threshold": 0.75,
      "post_processing": ["deduplicate", "normalize_whitespace"]
    },
    {
      "name": "extract_dates",
      "description": "Extract dates mentioned in document",
      "method": "pattern",
      "patterns": [
        {
          "pattern": "\\d{4}-\\d{2}-\\d{2}",
          "type": "iso_date"
        },
        {
          "pattern": "\\d{2}/\\d{2}/\\d{4}",
          "type": "us_date"
        },
        {
          "pattern": "(?:January|February|March|April|May|June|July|August|September|October|November|December)\\s+\\d{1,2},\\s+\\d{4}",
          "type": "written_date",
          "flags": "i"
        }
      ],
      "date_parser": "flexible"
    },
    {
      "name": "extract_topics",
      "description": "Extract main topics using LLM",
      "method": "llm",
      "prompt": "Identify the 3-5 main topics or themes in this document. Be specific and concise."
    },
    {
      "name": "detect_language",
      "description": "Detect document language",
      "method": "llm",
      "prompt": "Identify the primary language of this document (e.g., English, Spanish, Portuguese, etc.)"
    }
  ],
  
  "validation_rules": [
    {
      "field": "title",
      "rules": [
        { "type": "required", "message": "Title is required" },
        { "type": "min_length", "value": 1 },
        { "type": "max_length", "value": 500 }
      ]
    },
    {
      "field": "confidence",
      "rules": [
        { "type": "min_value", "value": 0.3, "message": "Confidence too low" }
      ]
    }
  ]
}

