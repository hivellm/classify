{
  "$schema": "https://hivellm.org/schemas/classify-template-v1.json",
  "version": "1.0",
  
  "metadata": {
    "name": "customer_support",
    "display_name": "Customer Support Documents",
    "description": "Classification template for customer support documents including tickets, knowledge base, FAQs, and support reports",
    "domains": ["customer_support", "service", "help_desk"],
    "priority": 78,
    
    "indicators": [
      "ticket", "support", "customer", "issue", "problem",
      "resolution", "faq", "help", "troubleshoot",
      "bug", "feature request", "complaint", "inquiry"
    ],
    
    "document_types": [
      "support_ticket", "knowledge_base", "faq", "support_report",
      "escalation", "resolution_guide", "customer_feedback"
    ],
    
    "example_titles": [
      "Support Ticket #12345",
      "Monthly Support Report",
      "FAQ - Account Setup",
      "Customer Escalation - Critical Issue",
      "Resolution Guide - Login Problems",
      "Customer Feedback Q4"
    ],
    
    "use_cases": [
      "Ticket tracking and resolution",
      "Knowledge base management",
      "Support performance analysis",
      "Customer issue tracking",
      "Self-service content creation"
    ]
  },
  
  "llm_config": {
    "provider": "deepseek",
    "model": "deepseek-chat",
    "temperature": 0.15,
    "max_tokens": 1500,
    "system_prompt": "You are an expert customer support analyst. Extract ticket details, issues, resolutions, customer information, priority, status, and SLA metrics. Identify problem categories, root causes, and resolution steps.",
    "fallback_models": ["gpt-4o-mini", "gemini-2.0-flash"]
  },
  
  "document_types": [
    {
      "type": "support_ticket",
      "display_name": "Support Ticket",
      "description": "Customer support ticket",
      "indicators": ["ticket", "issue", "customer", "status"],
      "required_entities": ["ticket_id", "issue", "status"],
      "optional_entities": ["customer", "priority", "resolution"],
      "priority": 100
    }
  ],
  
  "entity_definitions": [
    {
      "type": "Ticket",
      "description": "Support ticket",
      "properties": {
        "ticket_id": { "type": "string", "required": true },
        "subject": { "type": "string", "required": true },
        "priority": { "type": "enum", "values": ["critical", "high", "medium", "low"], "required": false },
        "status": { "type": "enum", "values": ["open", "in_progress", "pending", "resolved", "closed"], "required": true },
        "category": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm", "pattern"]
    },
    {
      "type": "Issue",
      "description": "Customer issue or problem",
      "properties": {
        "description": { "type": "string", "required": true },
        "category": { "type": "string", "required": false },
        "impact": { "type": "string", "required": false }
      },
      "extraction_methods": ["llm"]
    },
    {
      "type": "Resolution",
      "description": "Issue resolution",
      "properties": {
        "description": { "type": "string", "required": true },
        "resolution_time": { "type": "number", "required": false }
      },
      "extraction_methods": ["llm"]
    }
  ],
  
  "relationship_definitions": [
    {
      "type": "HAS_ISSUE",
      "description": "Ticket has issue",
      "source": "Ticket",
      "target": ["Issue"],
      "properties": {},
      "extraction_methods": ["llm"]
    },
    {
      "type": "RESOLVED_BY",
      "description": "Issue resolved by resolution",
      "source": "Issue",
      "target": ["Resolution"],
      "properties": {},
      "extraction_methods": ["llm"]
    }
  ],
  
  "graph_schema": {
    "nodes": [
      {
        "type": "SupportDocument",
        "labels": ["Document", "SupportDocument"],
        "required_properties": ["id", "title", "doc_type"],
        "optional_properties": ["ticket_id", "priority", "status"],
        "indexes": [
          { "property": "id", "type": "unique" },
          { "property": "ticket_id", "type": "index" }
        ]
      }
    ],
    
    "relationships": [
      {
        "type": "HAS_ISSUE",
        "source": "Ticket",
        "target": "Issue",
        "properties": [],
        "required": []
      }
    ]
  },
  
  "fulltext_schema": {
    "required_fields": ["title", "domain", "doc_type"],
    
    "extracted_fields": [
      {
        "name": "ticket_id",
        "type": "string",
        "description": "Support ticket ID",
        "extraction_method": "pattern",
        "patterns": ["#?\\d{4,}"],
        "index": true
      },
      {
        "name": "priority",
        "type": "string",
        "description": "Issue priority",
        "extraction_method": "llm",
        "index": true
      },
      {
        "name": "category",
        "type": "string",
        "description": "Issue category",
        "extraction_method": "llm",
        "index": true
      },
      {
        "name": "resolution_time",
        "type": "number",
        "description": "Time to resolve (hours)",
        "extraction_method": "llm",
        "index": true
      }
    ],
    
    "keyword_extraction": {
      "enabled": true,
      "method": "tfidf",
      "min_frequency": 1,
      "max_keywords": 15,
      "exclude_stopwords": true,
      "preserve_entities": true
    },
    
    "categories": ["support", "customer_service", "help_desk"],
    
    "summary": {
      "enabled": true,
      "method": "llm",
      "max_length": 300
    }
  },
  
  "extraction_rules": [
    {
      "name": "extract_ticket_details",
      "description": "Extract ticket information",
      "method": "llm",
      "prompt": "Extract ticket ID, subject, priority, status, issue description, and resolution."
    }
  ],
  
  "validation_rules": [
    {
      "field": "ticket_id",
      "rules": [
        { "type": "pattern", "value": "#?\\d{4,}" }
      ]
    }
  ]
}

