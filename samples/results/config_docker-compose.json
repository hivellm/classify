{
  "file": "config/docker-compose.yml",
  "classification": {
    "template": "software_project",
    "confidence": 1,
    "domain": "software",
    "docType": "docker-compose.yml"
  },
  "graphStructure": {
    "cypher": "CREATE (doc:Document {\n      id: \"Docker Compose Configuration\",\n      title: \"Docker Compose Configuration\",\n      domain: \"software\",\n      doc_type: \"docker-compose.yml\"\n    })\nCREATE (e0:Module {name: \"postgres\", description: \"PostgreSQL database service\"})\nCREATE (doc)-[:MENTIONS]->(e0)\nCREATE (e1:Module {name: \"api\", description: \"Node.js API server\"})\nCREATE (doc)-[:MENTIONS]->(e1)\nCREATE (e2:Module {name: \"vector-db\", description: \"Rust vector database\"})\nCREATE (doc)-[:MENTIONS]->(e2)\nCREATE (e3:Module {name: \"processor\", description: \"Python data processor\"})\nCREATE (doc)-[:MENTIONS]->(e3)\nCREATE (e4:Module {name: \"frontend\", description: \"React frontend (production build)\"})\nCREATE (doc)-[:MENTIONS]->(e4)\nCREATE (e5:Module {name: \"nginx\", description: \"Nginx reverse proxy\"})\nCREATE (doc)-[:MENTIONS]->(e5)\nCREATE (e6:Database {name: \"users\", type: \"PostgreSQL\", host: \"postgres\", port: \"5432\"})\nCREATE (doc)-[:MENTIONS]->(e6)\nCREATE (e7:Database {name: \"vector_data\", type: \"Vector Database\", host: \"vector-db\", port: \"8080\"})\nCREATE (doc)-[:MENTIONS]->(e7)\nCREATE (e8:Configuration {name: \"postgres_config\", environment: \"[object Object]\"})\nCREATE (doc)-[:MENTIONS]->(e8)\nCREATE (e9:Configuration {name: \"api_config\", environment: \"[object Object]\"})\nCREATE (doc)-[:MENTIONS]->(e9)\nCREATE (e10:Configuration {name: \"vector_db_config\", environment: \"[object Object]\"})\nCREATE (doc)-[:MENTIONS]->(e10)\nCREATE (e11:Configuration {name: \"processor_config\", environment: \"[object Object]\"})\nCREATE (doc)-[:MENTIONS]->(e11)\nCREATE (e12:Script {name: \"schema.sql\", path: \"./schema.sql\", mount_point: \"/docker-entrypoint-initdb.d/schema.sql\"})\nCREATE (doc)-[:MENTIONS]->(e12)\nCREATE (e13:Script {name: \"process_data.py\", description: \"Python data processing script\"})\nCREATE (doc)-[:MENTIONS]->(e13)\nCREATE (e14:API {name: \"api_endpoint\", port: \"3000\", protocol: \"HTTP\"})\nCREATE (doc)-[:MENTIONS]->(e14)\nCREATE (e15:API {name: \"vector_db_api\", port: \"8080\", protocol: \"HTTP\"})\nCREATE (doc)-[:MENTIONS]->(e15)\nCREATE (e16:Test {name: \"postgres_healthcheck\", command: \"pg_isready -U admin\", interval: \"10s\", timeout: \"5s\", retries: \"5\"})\nCREATE (doc)-[:MENTIONS]->(e16)\nCREATE (e17:Dependency {name: \"Dockerfile.api\", type: \"Dockerfile\"})\nCREATE (doc)-[:MENTIONS]->(e17)\nCREATE (e18:Dependency {name: \"Dockerfile.frontend\", type: \"Dockerfile\"})\nCREATE (doc)-[:MENTIONS]->(e18)\nCREATE (e19:Dependency {name: \"rust-vector-db\", type: \"Docker context\"})\nCREATE (doc)-[:MENTIONS]->(e19)\nCREATE (e20:Dependency {name: \"python-pipeline\", type: \"Docker context\"})\nCREATE (doc)-[:MENTIONS]->(e20)\nCREATE (e21:Dependency {name: \"nginx.conf\", type: \"Configuration file\"})\nCREATE (doc)-[:MENTIONS]->(e21)",
    "entities": [
      {
        "type": "Module",
        "properties": {
          "name": "postgres",
          "description": "PostgreSQL database service"
        }
      },
      {
        "type": "Module",
        "properties": {
          "name": "api",
          "description": "Node.js API server"
        }
      },
      {
        "type": "Module",
        "properties": {
          "name": "vector-db",
          "description": "Rust vector database"
        }
      },
      {
        "type": "Module",
        "properties": {
          "name": "processor",
          "description": "Python data processor"
        }
      },
      {
        "type": "Module",
        "properties": {
          "name": "frontend",
          "description": "React frontend (production build)"
        }
      },
      {
        "type": "Module",
        "properties": {
          "name": "nginx",
          "description": "Nginx reverse proxy"
        }
      },
      {
        "type": "Database",
        "properties": {
          "name": "users",
          "type": "PostgreSQL",
          "host": "postgres",
          "port": 5432
        }
      },
      {
        "type": "Database",
        "properties": {
          "name": "vector_data",
          "type": "Vector Database",
          "host": "vector-db",
          "port": 8080
        }
      },
      {
        "type": "Configuration",
        "properties": {
          "name": "postgres_config",
          "environment": {
            "POSTGRES_DB": "users",
            "POSTGRES_USER": "admin",
            "POSTGRES_PASSWORD": "${DB_PASSWORD:-secret}"
          }
        }
      },
      {
        "type": "Configuration",
        "properties": {
          "name": "api_config",
          "environment": {
            "NODE_ENV": "production",
            "PORT": "3000",
            "DATABASE_URL": "postgresql://admin:${DB_PASSWORD:-secret}@postgres:5432/users",
            "JWT_SECRET": "${JWT_SECRET:-change-me-in-production}"
          }
        }
      },
      {
        "type": "Configuration",
        "properties": {
          "name": "vector_db_config",
          "environment": {
            "BIND_ADDRESS": "0.0.0.0:8080",
            "DATA_DIR": "/data"
          }
        }
      },
      {
        "type": "Configuration",
        "properties": {
          "name": "processor_config",
          "environment": {
            "VECTOR_DB_URL": "http://vector-db:8080",
            "DATABASE_URL": "postgresql://admin:${DB_PASSWORD:-secret}@postgres:5432/users"
          }
        }
      },
      {
        "type": "Script",
        "properties": {
          "name": "schema.sql",
          "path": "./schema.sql",
          "mount_point": "/docker-entrypoint-initdb.d/schema.sql"
        }
      },
      {
        "type": "Script",
        "properties": {
          "name": "process_data.py",
          "description": "Python data processing script"
        }
      },
      {
        "type": "API",
        "properties": {
          "name": "api_endpoint",
          "port": 3000,
          "protocol": "HTTP"
        }
      },
      {
        "type": "API",
        "properties": {
          "name": "vector_db_api",
          "port": 8080,
          "protocol": "HTTP"
        }
      },
      {
        "type": "Test",
        "properties": {
          "name": "postgres_healthcheck",
          "command": "pg_isready -U admin",
          "interval": "10s",
          "timeout": "5s",
          "retries": 5
        }
      },
      {
        "type": "Dependency",
        "properties": {
          "name": "Dockerfile.api",
          "type": "Dockerfile"
        }
      },
      {
        "type": "Dependency",
        "properties": {
          "name": "Dockerfile.frontend",
          "type": "Dockerfile"
        }
      },
      {
        "type": "Dependency",
        "properties": {
          "name": "rust-vector-db",
          "type": "Docker context"
        }
      },
      {
        "type": "Dependency",
        "properties": {
          "name": "python-pipeline",
          "type": "Docker context"
        }
      },
      {
        "type": "Dependency",
        "properties": {
          "name": "nginx.conf",
          "type": "Configuration file"
        }
      }
    ],
    "relationships": [
      {
        "type": "DEPENDS_ON",
        "source": "api",
        "target": "postgres",
        "properties": {
          "condition": "service_healthy"
        }
      },
      {
        "type": "DEPENDS_ON",
        "source": "processor",
        "target": "postgres",
        "properties": {}
      },
      {
        "type": "DEPENDS_ON",
        "source": "processor",
        "target": "vector-db",
        "properties": {}
      },
      {
        "type": "DEPENDS_ON",
        "source": "frontend",
        "target": "api",
        "properties": {}
      },
      {
        "type": "DEPENDS_ON",
        "source": "nginx",
        "target": "frontend",
        "properties": {}
      },
      {
        "type": "ACCESSES",
        "source": "api",
        "target": "users",
        "properties": {
          "via": "DATABASE_URL"
        }
      },
      {
        "type": "ACCESSES",
        "source": "processor",
        "target": "users",
        "properties": {
          "via": "DATABASE_URL"
        }
      },
      {
        "type": "ACCESSES",
        "source": "processor",
        "target": "vector_data",
        "properties": {
          "via": "VECTOR_DB_URL"
        }
      },
      {
        "type": "EXPOSES",
        "source": "postgres",
        "target": "api_endpoint",
        "properties": {
          "port": 5432
        }
      },
      {
        "type": "EXPOSES",
        "source": "api",
        "target": "api_endpoint",
        "properties": {
          "port": 3000
        }
      },
      {
        "type": "EXPOSES",
        "source": "vector-db",
        "target": "vector_db_api",
        "properties": {
          "port": 8080
        }
      },
      {
        "type": "EXPOSES",
        "source": "frontend",
        "target": "api_endpoint",
        "properties": {
          "port": 80
        }
      },
      {
        "type": "EXPOSES",
        "source": "nginx",
        "target": "api_endpoint",
        "properties": {
          "port": 443
        }
      },
      {
        "type": "BUILDS",
        "source": "api",
        "target": "Dockerfile.api",
        "properties": {}
      },
      {
        "type": "BUILDS",
        "source": "frontend",
        "target": "Dockerfile.frontend",
        "properties": {}
      },
      {
        "type": "BUILDS",
        "source": "vector-db",
        "target": "rust-vector-db",
        "properties": {}
      },
      {
        "type": "BUILDS",
        "source": "processor",
        "target": "python-pipeline",
        "properties": {}
      },
      {
        "type": "CONTAINS",
        "source": "postgres",
        "target": "schema.sql",
        "properties": {
          "mount_point": "/docker-entrypoint-initdb.d/schema.sql"
        }
      },
      {
        "type": "CONTAINS",
        "source": "processor",
        "target": "process_data.py",
        "properties": {}
      },
      {
        "type": "CONTAINS",
        "source": "nginx",
        "target": "nginx.conf",
        "properties": {
          "mount_point": "/etc/nginx/nginx.conf"
        }
      },
      {
        "type": "TESTS",
        "source": "postgres_healthcheck",
        "target": "postgres",
        "properties": {}
      }
    ]
  },
  "fulltextMetadata": {
    "title": "Docker Compose Configuration",
    "domain": "software",
    "docType": "docker-compose.yml",
    "extractedFields": {
      "module_name": [
        "postgres",
        "api",
        "vector-db",
        "processor",
        "frontend",
        "nginx"
      ],
      "module_description": [
        "PostgreSQL database service",
        "Node.js API server",
        "Rust vector database",
        "Python data processor",
        "React frontend (production build)",
        "Nginx reverse proxy"
      ],
      "database_name": [
        "users",
        "vector_data"
      ],
      "database_type": [
        "PostgreSQL",
        "Vector Database"
      ],
      "database_host": [
        "postgres",
        "vector-db"
      ],
      "database_port": [
        5432,
        8080
      ],
      "configuration_name": [
        "postgres_config",
        "api_config",
        "vector_db_config",
        "processor_config"
      ],
      "configuration_environment": [
        {
          "POSTGRES_DB": "users",
          "POSTGRES_USER": "admin",
          "POSTGRES_PASSWORD": "${DB_PASSWORD:-secret}"
        },
        {
          "NODE_ENV": "production",
          "PORT": "3000",
          "DATABASE_URL": "postgresql://admin:${DB_PASSWORD:-secret}@postgres:5432/users",
          "JWT_SECRET": "${JWT_SECRET:-change-me-in-production}"
        },
        {
          "BIND_ADDRESS": "0.0.0.0:8080",
          "DATA_DIR": "/data"
        },
        {
          "VECTOR_DB_URL": "http://vector-db:8080",
          "DATABASE_URL": "postgresql://admin:${DB_PASSWORD:-secret}@postgres:5432/users"
        }
      ],
      "script_name": [
        "schema.sql",
        "process_data.py"
      ],
      "script_path": "./schema.sql",
      "script_mount_point": "/docker-entrypoint-initdb.d/schema.sql",
      "script_description": "Python data processing script",
      "api_name": [
        "api_endpoint",
        "vector_db_api"
      ],
      "api_port": [
        3000,
        8080
      ],
      "api_protocol": [
        "HTTP",
        "HTTP"
      ],
      "test_name": "postgres_healthcheck",
      "test_command": "pg_isready -U admin",
      "test_interval": "10s",
      "test_timeout": "5s",
      "test_retries": 5,
      "dependency_name": [
        "Dockerfile.api",
        "Dockerfile.frontend",
        "rust-vector-db",
        "python-pipeline",
        "nginx.conf"
      ],
      "dependency_type": [
        "Dockerfile",
        "Dockerfile",
        "Docker context",
        "Docker context",
        "Configuration file"
      ]
    },
    "keywords": [
      "data",
      "postgres",
      "vector",
      "dockerfile",
      "nginx",
      "networks",
      "network",
      "container",
      "name",
      "volumes",
      "secret",
      "ports",
      "build",
      "frontend",
      "5432",
      "8080",
      "postgresql",
      "database",
      "user",
      "environment"
    ],
    "summary": "This Docker Compose configuration defines a multi-service application with four main components: a PostgreSQL database for user data, a Node.js API server, a Rust-based vector database, and a Python data processor. The services are interconnected through a shared network and include health checks, volume mounts for data persistence, and environment-specific configurations. The setup ensures proper service dependencies, with the API requiring a healthy database and the processor relying on both the database and vector database."
  },
  "cacheInfo": {
    "cached": false,
    "hash": "5d7acf91049067cb85512cd4dd722473676d11512ecacacca5a00dd65a40e9c4"
  },
  "performance": {
    "totalTimeMs": 63356,
    "tokens": {
      "input": 687,
      "output": 1931,
      "total": 2618
    },
    "costUsd": 0.00063686
  }
}